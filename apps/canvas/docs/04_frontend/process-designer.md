# ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ ë””ìì´ë„ˆ UI ì„¤ê³„

<!-- affects: frontend, api, llm -->
<!-- requires-update: 02_api/api-contracts.md (Synapse API), 01_architecture/state-management.md, 01_architecture/component-architecture.md -->

## ì´ ë¬¸ì„œê°€ ë‹µí•˜ëŠ” ì§ˆë¬¸

- ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ ë””ìì´ë„ˆì˜ í™”ë©´ êµ¬ì„±ì€ ì–´ë–»ê²Œ ë˜ëŠ”ê°€?
- EventStorming ê°œë…ì´ ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ ê°œë…ìœ¼ë¡œ ì–´ë–»ê²Œ í™•ì¥ë˜ëŠ”ê°€?
- ìº”ë²„ìŠ¤ ì•„ì´í…œ íƒ€ì…(8ì¢… ë¹„ì¦ˆë‹ˆìŠ¤ ë…¸ë“œ + 3ì¢… í™•ì¥ ë…¸ë“œ)ì€ ì–´ë–»ê²Œ ì •ì˜ë˜ëŠ”ê°€?
- ì—°ê²°ì„  íƒ€ì…(triggers, reacts_to, produces, binds_to)ì€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€?
- Yjs ì‹¤ì‹œê°„ í˜‘ì—…(ì»¤ì„œ ê³µìœ , ë™ì‹œ í¸ì§‘, ì¶©ëŒ í•´ì†Œ)ì€ ì–´ë–»ê²Œ êµ¬í˜„ë˜ëŠ”ê°€?
- í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ê²°ê³¼ê°€ ìº”ë²„ìŠ¤ ìœ„ì— ì–´ë–»ê²Œ ì˜¤ë²„ë ˆì´ë˜ëŠ”ê°€?
- AI ì—­ê³µí•™(ì´ë²¤íŠ¸ ë¡œê·¸ -> í”„ë¡œì„¸ìŠ¤ ëª¨ë¸ ìë™ ìƒì„±)ì€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€?
- K-AIR eventstorming-toolì—ì„œ ë¬´ì—‡ì´ ë‹¬ë¼ì§€ëŠ”ê°€?

---

## 1. í™”ë©´ ì™€ì´ì–´í”„ë ˆì„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header: Axiom Canvas                                    ğŸ‘¥ 3ëª… í˜‘ì—… ì¤‘    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                                               â”‚
â”‚ Sidebar  â”‚  â”Œâ”€â”€ íˆ´ë°•ìŠ¤ â”€â”€â”  â”Œâ”€â”€ ìº”ë²„ìŠ¤ (react-konva) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚          â”‚  â”‚             â”‚  â”‚                                        â”‚   â”‚
â”‚ â—‹ ëŒ€ì‹œë³´ë“œâ”‚  â”‚ â–£ ë„ë©”ì¸    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚ â—‹ ì¼€ì´ìŠ¤ â”‚  â”‚   (Gray)    â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” Business Domain â”‚     â”‚   â”‚
â”‚ â—‹ ë¶„ì„   â”‚  â”‚             â”‚  â”‚  â”‚ â”‚         â”‚ (ë¬¼ë¥˜ê´€ë¦¬ë¶€)     â”‚     â”‚   â”‚
â”‚ â—‹ ë°ì´í„° â”‚  â”‚ â–£ ì•¡ì…˜ [B]  â”‚  â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”       â”‚     â”‚   â”‚
â”‚ â— í”„ë¡œì„¸ìŠ¤â”‚  â”‚   (Blue)    â”‚  â”‚  â”‚ â”‚ â”‚Eventâ”‚â”‚â†’ â”‚Actionâ”‚       â”‚     â”‚   â”‚
â”‚ â—‹ Watch  â”‚  â”‚             â”‚  â”‚  â”‚ â”‚ â”‚ì…ê³   â”‚â”‚  â”‚ê²€ìˆ˜  â”‚       â”‚     â”‚   â”‚
â”‚ â—‹ ì„¤ì •   â”‚  â”‚ â–£ ì´ë²¤íŠ¸[E] â”‚  â”‚  â”‚ â”‚ â”‚ì ‘ìˆ˜  â”‚â”‚  â”‚ì‹œì‘  â”‚       â”‚     â”‚   â”‚
â”‚          â”‚  â”‚   (Orange)  â”‚  â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”˜â”‚  â””â”€â”€â”¬â”€â”€â”€â”˜       â”‚     â”‚   â”‚
â”‚          â”‚  â”‚             â”‚  â”‚  â”‚ â”‚        â”‚     â”‚            â”‚     â”‚   â”‚
â”‚          â”‚  â”‚ â–£ ì—”í‹°í‹°    â”‚  â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”  â–¼            â”‚     â”‚   â”‚
â”‚          â”‚  â”‚   (Yellow)  â”‚  â”‚  â”‚ â”‚ â”‚Entity  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”      â”‚     â”‚   â”‚
â”‚          â”‚  â”‚             â”‚  â”‚  â”‚ â”‚ â”‚ì…ê³ ì „í‘œ â”‚ â”‚Rule  â”‚      â”‚     â”‚   â”‚
â”‚          â”‚  â”‚ â–£ ê·œì¹™ [R]  â”‚  â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚3ì¼ë‚´ â”‚      â”‚     â”‚   â”‚
â”‚          â”‚  â”‚   (Pink)    â”‚  â”‚  â”‚ â”‚            â”‚ì²˜ë¦¬  â”‚      â”‚     â”‚   â”‚
â”‚          â”‚  â”‚             â”‚  â”‚  â”‚ â”‚            â””â”€â”€â”€â”€â”€â”€â”˜      â”‚     â”‚   â”‚
â”‚          â”‚  â”‚ â–£ ì´í•´ê´€ê³„ìâ”‚  â”‚  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚     â”‚   â”‚
â”‚          â”‚  â”‚   (Green)   â”‚  â”‚  â”‚ â”‚  â”‚ Measure â”‚            â”‚     â”‚   â”‚
â”‚          â”‚  â”‚             â”‚  â”‚  â”‚ â”‚  â”‚ ì…ê³     â”‚            â”‚     â”‚   â”‚
â”‚          â”‚  â”‚ â–£ ë³´ê³ ì„œ    â”‚  â”‚  â”‚ â”‚  â”‚ ì²˜ë¦¬ìœ¨  â”‚            â”‚     â”‚   â”‚
â”‚          â”‚  â”‚   (LGreen)  â”‚  â”‚  â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚     â”‚   â”‚
â”‚          â”‚  â”‚             â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚          â”‚  â”‚ â–£ ì¸¡ì •ê°’    â”‚  â”‚  â”‚                                  â”‚   â”‚
â”‚          â”‚  â”‚   (Purple)  â”‚  â”‚  â”‚  ğŸ‘† ê¹€ë¶„ì„ê°€    ğŸ‘† ì´ì—”ì§€ë‹ˆì–´    â”‚   â”‚
â”‚          â”‚  â”‚             â”‚  â”‚  â”‚  (ì»¤ì„œ ê³µìœ  - Yjs Awareness)     â”‚   â”‚
â”‚          â”‚  â”‚ â”€â”€â”€ í™•ì¥ â”€â”€ â”‚  â”‚  â”‚                                  â”‚   â”‚
â”‚          â”‚  â”‚ â–£ ë¡œê·¸ë°”ì¸ë”©â”‚  â”‚  â”‚  [ë¯¸ë‹ˆë§µ]                        â”‚   â”‚
â”‚          â”‚  â”‚ â–£ ì‹œê°„ì£¼ì„  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”                       â”‚   â”‚
â”‚          â”‚  â”‚             â”‚  â”‚  â”‚  â”‚ Â·Â· Â· â”‚                       â”‚   â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚ Â· Â·  â”‚                       â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜                       â”‚   â”‚
â”‚          â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          â”‚                   â”‚                                         â”‚
â”‚          â”‚                   â”‚  â”Œâ”€â”€ ì†ì„± íŒ¨ë„ (ìš°ì¸¡) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚          â”‚                   â”‚  â”‚                                    â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì„ íƒ: ì…ê³ ì ‘ìˆ˜ì™„ë£Œ (Business Event)â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚                                    â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ â”€â”€â”€ ê¸°ë³¸ ì†ì„± â”€â”€â”€                 â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì´ë¦„: [ì…ê³ ì ‘ìˆ˜ì™„ë£Œ          ]     â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì„¤ëª…: [ë¬¼ë¥˜ì„¼í„°ì— ë¬¼í’ˆ ë„ì°© í›„... ]â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚                                    â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ â”€â”€â”€ ì‹œê°„ì¶• ì†ì„± â”€â”€â”€               â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì˜ˆìƒ ì†Œìš”: [2ì‹œê°„    ]             â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ SLA:       [4ì‹œê°„    ]             â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì‹¤ì œ í‰ê· : 3.2ì‹œê°„ (ë§ˆì´ë‹ ê²°ê³¼)  â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ìƒíƒœ: âš  SLA ê·¼ì ‘                  â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚                                    â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ â”€â”€â”€ ì´ë²¤íŠ¸ ë¡œê·¸ ë°”ì¸ë”© â”€â”€â”€        â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì†ŒìŠ¤ í…Œì´ë¸”: [logistics_events â–¼]  â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ íƒ€ì„ìŠ¤íƒ¬í”„:  [event_time      â–¼]  â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì¼€ì´ìŠ¤ ID:   [order_id        â–¼]  â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ í•„í„°:        [status='received']   â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚                                    â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ â”€â”€â”€ ì¸¡ì •ê°’ ë°”ì¸ë”© â”€â”€â”€             â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì—°ê²°ëœ KPI: ì…ê³ ì²˜ë¦¬ìœ¨             â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ [KPI ì¶”ê°€ +]                      â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚                                    â”‚   â”‚
â”‚          â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          â”‚                   â”‚                                         â”‚
â”‚          â”‚                   â”‚  â”Œâ”€â”€ í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ê²°ê³¼ íŒ¨ë„ â”€â”€â”€â”€â”€â”   â”‚
â”‚          â”‚                   â”‚  â”‚ ì í•©ë„ ì ìˆ˜: 78.5%                 â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ë³€í˜• ìˆ˜: 12ê°œ                      â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ ì£¼ìš” ë³€í˜•:                         â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚  1. ì •ìƒ íë¦„ (62%) â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘    â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚  2. ê²€ìˆ˜ ë°˜ë ¤ (18%) â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘    â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚  3. ê¸´ê¸‰ ì²˜ë¦¬ (12%) â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘    â”‚   â”‚
â”‚          â”‚                   â”‚  â”‚ [ì˜¤ë²„ë ˆì´ í‘œì‹œ â–¼]                  â”‚   â”‚
â”‚          â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          â”‚                   â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. EventStorming -> ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ ê°œë… ë§¤í•‘

K-AIR eventstorming-toolì˜ ê°œë…ì„ ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ ìˆ˜ì¤€ìœ¼ë¡œ í™•ì¥í•œë‹¤.

### 2.1 ê¸°ë³¸ ë…¸ë“œ (EventStorming í™•ì¥, 8ì¢…)

| EventStorming ì›ë³¸ | ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ | í•œêµ­ì–´ | ìƒ‰ìƒ | ë‹¨ì¶•í‚¤ |
|-------------------|------------------|--------|------|--------|
| ContextBox | Business Domain | ë¶€ì„œ/ì‚¬ì—…ë¶€ | Gray `#e9ecef` | D |
| Command | Business Action | ì—…ë¬´ í–‰ìœ„ | Blue `#87ceeb` | B |
| Event | Business Event | ì—…ë¬´ ì‚¬ê±´ | Orange `#ffb703` | E |
| Aggregate | Business Entity | ì—…ë¬´ ê°ì²´ | Yellow `#ffff99` | N |
| Policy | Business Rule | ì—…ë¬´ ê·œì¹™ | Pink `#ffc0cb` | R |
| Actor | Stakeholder / Role | ì´í•´ê´€ê³„ì | Green `#d0f4de` | S |
| ReadModel | Business Report | ì—…ë¬´ ë³´ê³ ì„œ | LightGreen `#90ee90` | T |
| (í•´ë‹¹ì—†ìŒ) | Measure | KPI/ì¸¡ì •ê°’ | Purple `#9b59b6` | M |

### 2.2 í™•ì¥ ë…¸ë“œ (ì‹ ê·œ, 3ì¢…)

| ë…¸ë“œ íƒ€ì… | í•œêµ­ì–´ | ìƒ‰ìƒ | ìš©ë„ |
|-----------|--------|------|------|
| **Measure** | KPI/ì¸¡ì •ê°’ | Purple `#9b59b6` | Event ì²´ì¸ì—ì„œ ì‚°ì¶œë˜ëŠ” KPI/ì¸¡ì •ê°’ ë…¸ë“œ |
| **EventLogBinding** | ì´ë²¤íŠ¸ ë¡œê·¸ ë°”ì¸ë”© | Blue-gray `#607d8b` | ì‹¤ì œ ë°ì´í„° ì†ŒìŠ¤ì™€ì˜ ë°”ì¸ë”©ì„ í‘œì‹œí•˜ëŠ” ì£¼ì„ ë…¸ë“œ |
| **TemporalAnnotation** | ì‹œê°„ ì£¼ì„ | Red outline `#e74c3c` | SLA ìœ„ë°˜, ë³‘ëª© ë“± ì‹œê°„ ê´€ë ¨ ì£¼ì„ í‘œì‹œ |

### 2.3 ìº”ë²„ìŠ¤ ì•„ì´í…œ íƒ€ì… ì •ì˜

```typescript
// types/canvasItem.types.ts

type CanvasItemType =
  // 8ì¢… ë¹„ì¦ˆë‹ˆìŠ¤ ë…¸ë“œ
  | 'contextBox'          // Business Domain (ë¶€ì„œ/ì‚¬ì—…ë¶€ ì˜ì—­)
  | 'businessAction'      // Business Action (ì—…ë¬´ í–‰ìœ„)
  | 'businessEvent'       // Business Event (ì—…ë¬´ ì‚¬ê±´)
  | 'businessEntity'      // Business Entity (ì—…ë¬´ ê°ì²´)
  | 'businessRule'        // Business Rule (ì—…ë¬´ ê·œì¹™)
  | 'stakeholder'         // Stakeholder / Role (ì´í•´ê´€ê³„ì)
  | 'businessReport'      // Business Report (ì—…ë¬´ ë³´ê³ ì„œ)
  | 'measure'             // Measure (KPI/ì¸¡ì •ê°’)
  // 3ì¢… í™•ì¥ ë…¸ë“œ
  | 'eventLogBinding'     // EventLogBinding (ë°ì´í„° ì†ŒìŠ¤ ë°”ì¸ë”©)
  | 'temporalAnnotation'; // TemporalAnnotation (ì‹œê°„ ì£¼ì„)

interface CanvasItem {
  id: string;
  type: CanvasItemType;
  x: number;
  y: number;
  width: number;
  height: number;
  label: string;
  description?: string;
  color: string;
  parentContextBoxId?: string;  // Business Domainì— ì†í•˜ëŠ” ê²½ìš°

  // ì‹œê°„ì¶• ì†ì„± (Business Event, Business Actionì— ì ìš©)
  temporal?: {
    expectedDuration?: number;   // ì˜ˆìƒ ì†Œìš” ì‹œê°„ (ë¶„)
    sla?: number;                // SLA ì œí•œ (ë¶„)
    actualAvg?: number;          // ì‹¤ì œ í‰ê·  (í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ê²°ê³¼)
    status?: 'ok' | 'warning' | 'violation';
  };

  // ì¸¡ì •ê°’ ë°”ì¸ë”© (Measure ë…¸ë“œì— ì ìš©)
  measureBinding?: {
    kpiId?: string;
    formula?: string;
    unit?: string;
  };

  // ì´ë²¤íŠ¸ ë¡œê·¸ ë°”ì¸ë”© (EventLogBinding ë…¸ë“œì— ì ìš©)
  eventLogBinding?: {
    sourceTable: string;
    timestampColumn: string;
    caseIdColumn: string;
    activityColumn?: string;
    filter?: string;
  };
}
```

---

## 3. ì—°ê²°ì„  íƒ€ì…

### 3.1 4ì¢… ì—°ê²°ì„ 

| ì—°ê²°ì„  íƒ€ì… | ì˜ë¯¸ | ì‹œì‘ ë…¸ë“œ | ë ë…¸ë“œ | ì‹œê° ìŠ¤íƒ€ì¼ |
|------------|------|-----------|---------|------------|
| `triggers` | "ì´ ì•¡ì…˜ì´ ì´ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤" | Business Action | Business Event | ì‹¤ì„  í™”ì‚´í‘œ, íŒŒë€ìƒ‰ |
| `reacts_to` | "ì´ ê·œì¹™ì´ ì´ ì´ë²¤íŠ¸ì— ë°˜ì‘í•œë‹¤" | Business Rule | Business Event | ì ì„  í™”ì‚´í‘œ, í•‘í¬ìƒ‰ |
| `produces` | "ì´ ì´ë²¤íŠ¸ê°€ ì´ ì—”í‹°í‹°ë¥¼ ìƒì„±/ë³€ê²½í•œë‹¤" | Business Event | Business Entity | ì‹¤ì„  í™”ì‚´í‘œ, ì£¼í™©ìƒ‰ |
| `binds_to` | "ì´ ë¡œê·¸ ë°”ì¸ë”©ì´ ì´ ì´ë²¤íŠ¸ì— ì—°ê²°ëœë‹¤" | EventLogBinding | Business Event | íŒŒì„  í™”ì‚´í‘œ, íšŒìƒ‰ |

### 3.2 ì—°ê²°ì„  íƒ€ì… ì •ì˜

```typescript
// types/connection.types.ts

type ConnectionType = 'triggers' | 'reacts_to' | 'produces' | 'binds_to';

interface Connection {
  id: string;
  type: ConnectionType;
  sourceId: string;         // ì‹œì‘ ë…¸ë“œ ID
  targetId: string;         // ë ë…¸ë“œ ID
  label?: string;
  style: {
    stroke: string;
    strokeWidth: number;
    dashArray?: string;     // ì ì„ /íŒŒì„ 
    arrowSize: number;
  };
}
```

---

## 4. ì†ì„± íŒ¨ë„ ìƒì„¸

### 4.1 ì‹œê°„ì¶• ì†ì„± íŒ¨ë„ (TemporalProperties)

Business Event, Business Action ë…¸ë“œ ì„ íƒ ì‹œ í‘œì‹œ.

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| expectedDuration | number (ë¶„) | ì˜ˆìƒ ì†Œìš” ì‹œê°„ |
| sla | number (ë¶„) | SLA í•œë„ |
| actualAvg | number (ì½ê¸°ì „ìš©) | í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ê²°ê³¼ì—ì„œ ì‚°ì¶œëœ ì‹¤ì œ í‰ê·  |
| status | ìë™ ê³„ì‚° | `ok`: ì‹¤ì œ < ì˜ˆìƒ, `warning`: ì˜ˆìƒ < ì‹¤ì œ < SLA, `violation`: ì‹¤ì œ > SLA |

### 4.2 ì¸¡ì •ê°’ ë°”ì¸ë”© íŒ¨ë„ (MeasureBinding)

Measure ë…¸ë“œ ì„ íƒ ì‹œ í‘œì‹œ.

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| kpiId | select | ì˜¨í†¨ë¡œì§€ KPI ê³„ì¸µì—ì„œ ì„ íƒ (Synapse API) |
| formula | text | ì‚°ì¶œ ê³µì‹ (ì˜ˆ: "count(ì…ê³ ì ‘ìˆ˜ì™„ë£Œ) / count(ì…ê³ ìš”ì²­)") |
| unit | text | ë‹¨ìœ„ (%, ê±´, ì‹œê°„ ë“±) |

### 4.3 ì´ë²¤íŠ¸ ë¡œê·¸ ë°”ì¸ë”© íŒ¨ë„ (EventLogBinding)

EventLogBinding ë…¸ë“œ ì„ íƒ ì‹œ í‘œì‹œ.

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| sourceTable | select | ë°ì´í„°ì†ŒìŠ¤ í…Œì´ë¸” (Weaver API ë©”íƒ€ë°ì´í„°) |
| timestampColumn | select | íƒ€ì„ìŠ¤íƒ¬í”„ ì»¬ëŸ¼ |
| caseIdColumn | select | ì¼€ì´ìŠ¤ ì‹ë³„ì ì»¬ëŸ¼ |
| activityColumn | select | í™œë™ëª… ì»¬ëŸ¼ (ì„ íƒ) |
| filter | text | SQL WHERE ì¡°ê±´ (ì„ íƒ) |

---

## 5. í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ê²°ê³¼ ì˜¤ë²„ë ˆì´

### 5.1 ì˜¤ë²„ë ˆì´ ì‹œê°í™”

í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ê²°ê³¼ê°€ ìº”ë²„ìŠ¤ ìœ„ì— ì‹œê°ì ìœ¼ë¡œ í‘œì‹œëœë‹¤.

```
ì˜¤ë²„ë ˆì´ í‘œì‹œ ëª¨ë“œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”â”â”â”â”â”â”â”â”â”â–¶    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Event A â”‚    (ë¹¨ê°„ìƒ‰ ë‘êº¼ì›€)  â”‚ Event B â”‚  ë³‘ëª© êµ¬ê°„    â”‚
â”‚  â”‚ ì…ê³ ì ‘ìˆ˜ â”‚    3.2h (SLA 4h)  â”‚ ê²€ìˆ˜ì‹œì‘ â”‚               â”‚
â”‚  â”‚ âš        â”‚                    â”‚ âŒ       â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                            â”‚
â”‚       â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”                         â”‚
â”‚       â”‚  ì´íƒˆ ê²½ë¡œ (ì ì„ )         â”‚                        â”‚
â”‚       â”‚  18% ë¹ˆë„                â”‚                         â”‚
â”‚       â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜                         â”‚
â”‚                                                            â”‚
â”‚  ìƒ‰ìƒ ë²”ë¡€:                                                â”‚
â”‚  â— ì´ˆë¡: SLA ì´ë‚´   â— ì£¼í™©: SLA ê·¼ì ‘   â— ë¹¨ê°•: SLA ìœ„ë°˜  â”‚
â”‚  â”â” ì‹¤ì„ : ì •ìƒ ê²½ë¡œ  â”€ â”€ ì ì„ : ì´íƒˆ ê²½ë¡œ                   â”‚
â”‚  ì„  ë‘ê»˜: ë¹ˆë„ ë¹„ë¡€                                        â”‚
â”‚                                                            â”‚
â”‚  ì í•©ë„ ì ìˆ˜: 78.5%     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                          â”‚ ë³€í˜• ëª©ë¡ íŒ¨ë„       â”‚          â”‚
â”‚                          â”‚ 1. ì •ìƒ (62%)        â”‚          â”‚
â”‚                          â”‚ 2. ë°˜ë ¤ (18%) â˜…     â”‚          â”‚
â”‚                          â”‚ 3. ê¸´ê¸‰ (12%)        â”‚          â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì˜¤ë²„ë ˆì´ ë°ì´í„° íë¦„

```
ì´ë²¤íŠ¸ ë¡œê·¸ ë°”ì¸ë”© ì™„ë£Œ
    â”‚
    â–¼
useProcessMining(boardId, bindings)
    â”‚
    â”œâ”€â”€â†’ Synapse: POST /process-mining/discover
    â”‚    ì‘ë‹µ: ë°œê²¬ëœ í”„ë¡œì„¸ìŠ¤ ëª¨ë¸ (ë…¸ë“œ/ì—£ì§€ + ë¹ˆë„)
    â”‚
    â”œâ”€â”€â†’ Synapse: GET /process-mining/conformance
    â”‚    ì‘ë‹µ: ì í•©ë„ ì ìˆ˜, ì´íƒˆ ê²½ë¡œ ëª©ë¡
    â”‚
    â””â”€â”€â†’ Synapse: GET /process-mining/bottleneck
         ì‘ë‹µ: ë³‘ëª© êµ¬ê°„ (ë…¸ë“œë³„ ëŒ€ê¸°ì‹œê°„, SLA ìœ„ë°˜ ë¹„ìœ¨)

ê²°ê³¼ -> ConformanceOverlay ì»´í¬ë„ŒíŠ¸ -> ìº”ë²„ìŠ¤ ìœ„ì— ë Œë”ë§
```

---

## 6. Yjs ì‹¤ì‹œê°„ í˜‘ì—…

### 6.1 CRDT ë¬¸ì„œ êµ¬ì¡°

```typescript
// Yjs Document êµ¬ì¡° (board:{boardId})
const ydoc = new Y.Doc();

// ìº”ë²„ìŠ¤ ì•„ì´í…œ (Y.Map<CanvasItem>)
const yItems = ydoc.getMap('items');

// ì—°ê²°ì„  (Y.Map<Connection>)
const yConnections = ydoc.getMap('connections');

// ë…¸ë“œ ìœ„ì¹˜ (Y.Map<{x: number, y: number}>)
// ìœ„ì¹˜ë¥¼ ë³„ë„ ë§µìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ì´ìœ : ë“œë˜ê·¸ ì¤‘ ë¹ˆë²ˆí•œ ì—…ë°ì´íŠ¸ê°€
// ë…¸ë“œ ì†ì„± ë³€ê²½ê³¼ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ ê²©ë¦¬
const yPositions = ydoc.getMap('positions');
```

### 6.2 ì»¤ì„œ ê³µìœ  (Awareness)

```typescript
// Yjs Awareness í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ ê° ì‚¬ìš©ìì˜ ì»¤ì„œ ìœ„ì¹˜ì™€
// ì„ íƒ ìƒíƒœë¥¼ ê³µìœ í•œë‹¤. AwarenessëŠ” CRDTì™€ ë³„ë„ í”„ë¡œí† ì½œì´ë‹¤.

provider.awareness.setLocalState({
  userId: currentUser.id,
  name: currentUser.name,
  color: assignedColor,          // ì‚¬ìš©ìë³„ ê³ ìœ  ìƒ‰ìƒ
  cursor: { x: mouseX, y: mouseY },
  selectedItemIds: selectedIds,  // ì„ íƒ ì¤‘ì¸ ë…¸ë“œ (ë‹¤ë¥¸ ì‚¬ìš©ìê°€ í¸ì§‘ íšŒí”¼)
});
```

### 6.3 ì¶©ëŒ í•´ì†Œ ì „ëµ

| ìƒí™© | í•´ì†Œ ë°©ë²• |
|------|-----------|
| ê°™ì€ ë…¸ë“œë¥¼ ë™ì‹œì— ì´ë™ | Y.Mapì˜ last-writer-wins (Yjs ê¸°ë³¸ ë™ì‘) |
| ê°™ì€ ë…¸ë“œì˜ ì†ì„±ì„ ë™ì‹œì— í¸ì§‘ | í•„ë“œë³„ ë…ë¦½ ì—…ë°ì´íŠ¸ (Y.Map í‚¤ ë‹¨ìœ„) |
| ë…¸ë“œ ì‚­ì œ vs ì†ì„± í¸ì§‘ ì¶©ëŒ | ì‚­ì œê°€ ìš°ì„  (ì‚­ì œëœ ë…¸ë“œì˜ ì—…ë°ì´íŠ¸ëŠ” ë¬´ì‹œ) |
| ì—°ê²°ì„ ì˜ ì–‘ ë ë…¸ë“œ ì¤‘ í•˜ë‚˜ê°€ ì‚­ì œ | ì—°ê²°ì„ ë„ ìë™ ì‚­ì œ (cleanup observer) |
| ë„¤íŠ¸ì›Œí¬ ì¼ì‹œ ë‹¨ì ˆ | Yjsê°€ ë¡œì»¬ ë³€ê²½ì„ íì‰, ì¬ì—°ê²° ì‹œ ìë™ ë™ê¸°í™” |

### 6.4 ì˜¤í”„ë¼ì¸ ì§€ì›

```
[ì˜¨ë¼ì¸] â”€â”€â†’ [ì—°ê²° ëŠê¹€] â”€â”€â†’ [ì˜¤í”„ë¼ì¸ í¸ì§‘]
                                    â”‚
                              ë¡œì»¬ ë³€ê²½ íì‰
                              (IndexedDB + y-indexeddb)
                                    â”‚
                              [ì—°ê²° ë³µêµ¬] â”€â”€â†’ [ìë™ ë™ê¸°í™”]
                                               CRDT merge
                                               ì¶©ëŒ ì—†ìŒ
```

---

## 7. AI ì—­ê³µí•™: ì´ë²¤íŠ¸ ë¡œê·¸ -> í”„ë¡œì„¸ìŠ¤ ëª¨ë¸ ìë™ ìƒì„±

### 7.1 íë¦„

```
1. ì‚¬ìš©ìê°€ ë¹ˆ ìº”ë²„ìŠ¤ì—ì„œ "AI í”„ë¡œì„¸ìŠ¤ ë°œê²¬" í´ë¦­
2. ì´ë²¤íŠ¸ ë¡œê·¸ ì†ŒìŠ¤ ì„ íƒ (Weaver API ë°ì´í„°ì†ŒìŠ¤)
3. Canvas â”€â”€â†’ Synapse: POST /process-mining/discover
   ìš”ì²­: { sourceTable, timestampCol, caseIdCol, activityCol }
4. Synapse ë‚´ë¶€: pm4py ì•ŒíŒŒ ë§ˆì´ë„ˆ ë˜ëŠ” ì¸ë•í‹°ë¸Œ ë§ˆì´ë„ˆ ì‹¤í–‰
5. ì‘ë‹µ: ë°œê²¬ëœ í”„ë¡œì„¸ìŠ¤ ëª¨ë¸ (í™œë™ ëª©ë¡ + ê´€ê³„ + ë¹ˆë„)
6. Canvas: ì‘ë‹µì„ ìº”ë²„ìŠ¤ ì•„ì´í…œìœ¼ë¡œ ë³€í™˜
   - ê° í™œë™ -> Business Event ë…¸ë“œ ìë™ ìƒì„±
   - ê´€ê³„ -> Connection ìë™ ìƒì„±
   - ë¹ˆë„ -> ì—°ê²°ì„  ë‘ê»˜ì— ë°˜ì˜
7. ì‚¬ìš©ìê°€ ìë™ ìƒì„±ëœ ëª¨ë¸ì„ ìˆ˜ì •/ë³´ì™„ (HITL)
```

### 7.2 pm4py ê²°ê³¼ -> Canvas ë§¤í•‘

| pm4py ì¶œë ¥ | Canvas ì•„ì´í…œ | ë³€í™˜ ê·œì¹™ |
|------------|--------------|-----------|
| Activity | Business Event (ì£¼í™©) | í™œë™ëª… -> ë¼ë²¨, ë¹ˆë„ -> í¬ê¸° |
| Transition (ì§ì ‘ í›„í–‰) | Connection (`triggers`) | ë¹ˆë„ -> ì„  ë‘ê»˜ |
| Start Activity | Business Event + ì‹œì‘ ë§ˆì»¤ | ë…¹ìƒ‰ í…Œë‘ë¦¬ ì¶”ê°€ |
| End Activity | Business Event + ì¢…ë£Œ ë§ˆì»¤ | ë¹¨ê°„ í…Œë‘ë¦¬ ì¶”ê°€ |
| Self-loop | ë™ì¼ ë…¸ë“œ ìˆœí™˜ ì—°ê²°ì„  | ìê¸° ì°¸ì¡° í™”ì‚´í‘œ |

---

## 8. í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

| ë‹¨ì¶•í‚¤ | ë™ì‘ | ë¹„ê³  |
|--------|------|------|
| `B` | Business Action ë…¸ë“œ ì¶”ê°€ ëª¨ë“œ | Blue |
| `E` | Business Event ë…¸ë“œ ì¶”ê°€ ëª¨ë“œ | Event (Orange) |
| `N` | Business Entity ë…¸ë“œ ì¶”ê°€ ëª¨ë“œ | eNtity (Yellow) |
| `R` | Business Rule ë…¸ë“œ ì¶”ê°€ ëª¨ë“œ | Rule (Pink) |
| `S` | Stakeholder ë…¸ë“œ ì¶”ê°€ ëª¨ë“œ | Stakeholder (Green) |
| `T` | Business Report ë…¸ë“œ ì¶”ê°€ ëª¨ë“œ | reporT (LightGreen) |
| `M` | Measure ë…¸ë“œ ì¶”ê°€ ëª¨ë“œ | Measure (Purple) |
| `D` | Business Domain (ContextBox) ì¶”ê°€ ëª¨ë“œ | Domain (Gray) |
| `C` | ì—°ê²°ì„  ëª¨ë“œ | Connect |
| `V` | ì„ íƒ ëª¨ë“œ (ê¸°ë³¸) | selecV... Select |
| `Delete` / `Backspace` | ì„ íƒëœ ì•„ì´í…œ ì‚­ì œ | í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ |
| `Ctrl+Z` | ë˜ëŒë¦¬ê¸° (Yjs UndoManager) | |
| `Ctrl+Shift+Z` | ë‹¤ì‹œ ì‹¤í–‰ | |
| `Ctrl+A` | ì „ì²´ ì„ íƒ | |
| `Ctrl+D` | ì„ íƒ ë³µì œ | |
| `Space` + ë“œë˜ê·¸ | ìº”ë²„ìŠ¤ íŒ¨ë‹ | |
| `Ctrl` + ìŠ¤í¬ë¡¤ | ì¤Œ ì¸/ì•„ì›ƒ | |

---

## 9. React Konva ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### 9.1 ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬

```
ProcessDesignerPage (React.lazy)
â”œâ”€â”€ ProcessToolbox                          # ì¢Œì¸¡ ë…¸ë“œ íŒ”ë ˆíŠ¸
â”‚   â””â”€â”€ ToolboxItem (x11)                   # ë“œë˜ê·¸ ê°€ëŠ¥ ë…¸ë“œ ì•„ì´ì½˜
â”œâ”€â”€ ProcessCanvas                           # react-konva Stage
â”‚   â”œâ”€â”€ <Stage>
â”‚   â”‚   â””â”€â”€ <Layer>
â”‚   â”‚       â”œâ”€â”€ ContextBox (xN)             # Business Domain ì˜ì—­ (ê·¸ë£¹)
â”‚   â”‚       â”œâ”€â”€ CanvasItem (xN)             # ë…¸ë“œ (Rect + Text)
â”‚   â”‚       â”‚   â”œâ”€â”€ <Group>
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ <Rect>              # ë°°ê²½ (ìƒ‰ìƒë³„)
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ <Text>              # ë¼ë²¨
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ <Circle>            # ì—°ê²° í¬ì¸íŠ¸ (hover ì‹œ)
â”‚   â”‚       â”‚   â””â”€â”€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
â”‚   â”‚       â”‚       â”œâ”€â”€ onDragMove          # ìœ„ì¹˜ -> Yjs ë™ê¸°í™”
â”‚   â”‚       â”‚       â”œâ”€â”€ onClick             # ì„ íƒ -> Zustand
â”‚   â”‚       â”‚       â””â”€â”€ onDblClick          # ì¸ë¼ì¸ í¸ì§‘
â”‚   â”‚       â”œâ”€â”€ ConnectionLine (xN)         # ì—°ê²°ì„  (Line + Arrow)
â”‚   â”‚       â”‚   â””â”€â”€ <Arrow>                 # Konva Arrow shape
â”‚   â”‚       â”œâ”€â”€ ConformanceOverlay          # í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ì˜¤ë²„ë ˆì´
â”‚   â”‚       â”‚   â”œâ”€â”€ BottleneckHighlight     # ë³‘ëª© êµ¬ê°„ (ë¹¨ê°„ ë°°ê²½)
â”‚   â”‚       â”‚   â””â”€â”€ DeviationPath           # ì´íƒˆ ê²½ë¡œ (ì ì„ )
â”‚   â”‚       â””â”€â”€ CollaboratorCursors         # ë‹¤ë¥¸ ì‚¬ìš©ì ì»¤ì„œ
â”‚   â”‚           â””â”€â”€ CursorMarker (xN)       # ì´ë¦„ íƒœê·¸ + í™”ì‚´í‘œ
â”‚   â””â”€â”€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
â”‚       â”œâ”€â”€ onMouseDown/Move/Up             # ë“œë˜ê·¸ ì„ íƒ ì˜ì—­
â”‚       â”œâ”€â”€ onWheel                         # ì¤Œ
â”‚       â””â”€â”€ onKeyDown                       # ë‹¨ì¶•í‚¤ (useCanvasKeyboard)
â”œâ”€â”€ ProcessPropertyPanel                    # ìš°ì¸¡ ì†ì„± íŒ¨ë„
â”‚   â”œâ”€â”€ BasicProperties                     # ì´ë¦„, ì„¤ëª…, ìƒ‰ìƒ
â”‚   â”œâ”€â”€ TemporalProperties                  # ì‹œê°„ì¶• (duration, SLA)
â”‚   â”œâ”€â”€ MeasureBinding                      # KPI ì—°ê²°
â”‚   â””â”€â”€ EventLogBinding                     # ë°ì´í„° ì†ŒìŠ¤ ë°”ì¸ë”©
â”œâ”€â”€ ProcessMinimap                          # ë¯¸ë‹ˆë§µ
â”‚   â””â”€â”€ <Stage> (ì¶•ì†Œ ë¯¸ëŸ¬)
â””â”€â”€ ProcessVariantPanel                     # í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ê²°ê³¼
    â”œâ”€â”€ ConformanceScore                    # ì í•©ë„ ì ìˆ˜
    â””â”€â”€ VariantList                         # ë³€í˜• ëª©ë¡
```

### 9.2 ë°ì´í„° íë¦„

```
[Yjs Document]                    [Synapse API]
    â”‚                                  â”‚
    â–¼                                  â–¼
useYjsCollaboration()          useProcessMining()
    â”‚                                  â”‚
    â”œâ”€â”€ items (Y.Map)                  â”œâ”€â”€ conformance result
    â”œâ”€â”€ connections (Y.Map)            â”œâ”€â”€ bottleneck data
    â””â”€â”€ positions (Y.Map)              â””â”€â”€ variant list
    â”‚                                  â”‚
    â–¼                                  â–¼
ProcessCanvas (react-konva)    ProcessVariantPanel
    â”‚                                  â”‚
    â””â”€â”€â”€ ConformanceOverlay â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Zustand: processDesignerStore]
    â”‚
    â”œâ”€â”€ toolMode     â”€â”€â†’ ProcessToolbox (í™œì„± ë„êµ¬ í‘œì‹œ)
    â”œâ”€â”€ selectedItems â”€â”€â†’ ProcessPropertyPanel (ì„ íƒëœ ë…¸ë“œ ì†ì„±)
    â””â”€â”€ collaborators â”€â”€â†’ CollaboratorCursors (ì»¤ì„œ ë Œë”ë§)
```

---

## 10. ì ‘ê·¼ì„± (Accessibility)

react-konva ìº”ë²„ìŠ¤ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ìŠ¤í¬ë¦° ë¦¬ë”ê°€ ì ‘ê·¼í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, WCAG 2.1 AA ì¤€ìˆ˜ë¥¼ ìœ„í•´ ëŒ€ì²´ ì ‘ê·¼ ìˆ˜ë‹¨ì´ í•„ìˆ˜ì´ë‹¤.

### 10.1 íŠ¸ë¦¬/ë¦¬ìŠ¤íŠ¸ ëŒ€ì²´ ë·°

ìº”ë²„ìŠ¤ì™€ ë³„ë„ë¡œ í”„ë¡œì„¸ìŠ¤ ëª¨ë¸ì„ íŠ¸ë¦¬/ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì—´ëŒí•  ìˆ˜ ìˆëŠ” íŒ¨ë„ì„ ì œê³µí•œë‹¤.

```
[ìº”ë²„ìŠ¤ ë·°â—] [íŠ¸ë¦¬ ë·°]
```

íŠ¸ë¦¬ ë·°ì—ì„œëŠ”:
- Business Domain â†’ í•˜ìœ„ ë…¸ë“œë¥¼ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ í‘œì‹œ
- ë…¸ë“œ ì„ íƒ ì‹œ ìº”ë²„ìŠ¤ê°€ í•´ë‹¹ ë…¸ë“œë¡œ í¬ì»¤ìŠ¤+ì¤Œ
- ì—°ê²° ê´€ê³„ë¥¼ "ì¶œë°œ â†’ ë„ì°© (ê´€ê³„ ìœ í˜•)" í˜•íƒœë¡œ í‘œì‹œ
- ë…¸ë“œ ì¶”ê°€/ì‚­ì œ/ì†ì„± í¸ì§‘ì´ ê°€ëŠ¥ (ìº”ë²„ìŠ¤ì™€ ë™ì¼ Yjs Document ì‚¬ìš©)

### 10.2 ìº”ë²„ìŠ¤ í‚¤ë³´ë“œ ëª¨ë“œ

ìº”ë²„ìŠ¤ì—ì„œ í‚¤ë³´ë“œë§Œìœ¼ë¡œ ê¸°ë³¸ ì¡°ì‘ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.

| í‚¤ | ë™ì‘ |
|----|------|
| `Tab` | ë‹¤ìŒ ë…¸ë“œë¡œ í¬ì»¤ìŠ¤ ì´ë™ (ìƒì„± ìˆœì„œ) |
| `Shift+Tab` | ì´ì „ ë…¸ë“œë¡œ í¬ì»¤ìŠ¤ ì´ë™ |
| `Enter` | í¬ì»¤ìŠ¤ëœ ë…¸ë“œ ì„ íƒ â†’ ì†ì„± íŒ¨ë„ ì—´ê¸° |
| `Arrow Keys` | ì„ íƒëœ ë…¸ë“œ ì´ë™ (10px ë‹¨ìœ„, Shift+Arrow: 1px) |
| `+` / `-` | ì¤Œ ì¸/ì•„ì›ƒ |
| `Ctrl+Arrow Keys` | ìº”ë²„ìŠ¤ íŒ¨ë‹ |
| `Shift+?` | í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ë„ì›€ë§ íŒ¨ë„ ì—´ê¸° |

### 10.3 ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›

- ìº”ë²„ìŠ¤ ì»¨í…Œì´ë„ˆ: `role="application"` + `aria-label="í”„ë¡œì„¸ìŠ¤ ë””ìì´ë„ˆ ìº”ë²„ìŠ¤. ë…¸ë“œ {n}ê°œ, ì—°ê²° {m}ê°œ"`
- ë…¸ë“œ í¬ì»¤ìŠ¤ ì‹œ: `aria-label="{ë…¸ë“œëª…}, {ìœ í˜•}, ì—°ê²° {k}ê°œ"`
- í˜‘ì—… ë™ì‘: `aria-live="polite"` ì˜ì—­ì— "{ì‚¬ìš©ìëª…}ì´(ê°€) '{ë…¸ë“œëª…}' ë…¸ë“œë¥¼ ì´ë™í•¨" ë°œí‘œ
- ë‹¨ì¶•í‚¤ ëª¨ë“œ ë³€ê²½: `aria-live="assertive"`ì— "ì—°ê²°ì„  ëª¨ë“œ í™œì„±í™”" ë“± ëª¨ë“œ ì „í™˜ ë°œí‘œ

### 10.4 ì‹œê° ëŒ€ì²´

- ë…¸ë“œ ìœ í˜• êµ¬ë¶„ì´ ìƒ‰ìƒì—ë§Œ ì˜ì¡´í•˜ì§€ ì•Šë„ë¡, ì•„ì´ì½˜ ë˜ëŠ” í…ìŠ¤íŠ¸ ë¼ë²¨("Event", "Action" ë“±)ì„ í•­ìƒ í‘œì‹œ
- ë³‘ëª© í•˜ì´ë¼ì´íŠ¸(ë¹¨ê°„ ë°°ê²½)ëŠ” ì•„ì´ì½˜(âš ï¸)ê³¼ í…ìŠ¤íŠ¸("ë³‘ëª©")ë¥¼ í•¨ê»˜ í‘œì‹œ
- í˜‘ì—… ì»¤ì„œì˜ ìƒ‰ìƒ ì˜†ì— ì‚¬ìš©ì ì´ë¦„ í…ìŠ¤íŠ¸ë¥¼ í•­ìƒ í‘œì‹œ (ì´ë¯¸ êµ¬í˜„ë¨)

---

## 11. UX ìƒíƒœ ì„¤ê³„ (ì—ëŸ¬/ë¹ˆ ìƒíƒœ/ë¡œë”©)

### 11.1 ì—ëŸ¬ ìƒíƒœ

| ì‹œë‚˜ë¦¬ì˜¤ | UI í‘œì‹œ | ì•¡ì…˜ |
|---------|---------|------|
| í˜ì´ì§€ ë¡œë“œ ì‹¤íŒ¨ | ErrorFallback (implementation-guide.md Â§1.2) | "ë‹¤ì‹œ ì‹œë„" ë²„íŠ¼ |
| Yjs WebSocket ì—°ê²° ì‹¤íŒ¨ | ìº”ë²„ìŠ¤ ìƒë‹¨ ë°°ë„ˆ: "âš  ì‹¤ì‹œê°„ ë™ê¸°í™” ì—°ê²°ì´ ëŠì–´ì¡ŒìŠµë‹ˆë‹¤. ì¬ì—°ê²° ì¤‘..." | ì§€ìˆ˜ ë°±ì˜¤í”„ ìë™ ì¬ì—°ê²° |
| AI ì—­ê³µí•™ ì‹¤íŒ¨ | AiReversePanelì— ì—ëŸ¬: "í”„ë¡œì„¸ìŠ¤ ëª¨ë¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤." | "ì¬ì‹œë„" ë²„íŠ¼ |
| í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ API ì‹¤íŒ¨ | ì˜¤ë²„ë ˆì´ ë¹„í™œì„± + í† ìŠ¤íŠ¸ ì—ëŸ¬ | MiningToggleë¡œ ì¬ìš”ì²­ |
| ë³´ë“œ ì €ì¥ ì‹¤íŒ¨ | í† ìŠ¤íŠ¸: "ë³€ê²½ì‚¬í•­ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤." | Yjsê°€ ìë™ ì¬ì‹œë„ |

### 11.2 ë¹ˆ ìƒíƒœ

| ì‹œë‚˜ë¦¬ì˜¤ | UI í‘œì‹œ |
|---------|---------|
| ë³´ë“œ ëª©ë¡ ì—†ìŒ | EmptyState: ğŸ”„ ì•„ì´ì½˜ + "ì•„ì§ í”„ë¡œì„¸ìŠ¤ ë³´ë“œê°€ ì—†ìŠµë‹ˆë‹¤" + [ìƒˆ ë³´ë“œ ë§Œë“¤ê¸°] ë²„íŠ¼ |
| ë¹ˆ ìº”ë²„ìŠ¤ (ë…¸ë“œ ì—†ìŒ) | ìº”ë²„ìŠ¤ ì¤‘ì•™ ì•ˆë‚´: "ë„êµ¬ ìƒìì—ì„œ ë…¸ë“œë¥¼ ë“œë˜ê·¸í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ì„¤ê³„í•˜ì„¸ìš”" + ê°„ë‹¨ ê°€ì´ë“œ ë§í¬ |
| í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ë°ì´í„° ì—†ìŒ | MiningPanel: "ì´ í”„ë¡œì„¸ìŠ¤ì— ì—°ê²°ëœ ì´ë²¤íŠ¸ ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤." + [ì´ë²¤íŠ¸ ë¡œê·¸ ë°”ì¸ë”©] |
| ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ (ë…¸ë“œ ê²€ìƒ‰) | "'{query}'ì— í•´ë‹¹í•˜ëŠ” ë…¸ë“œê°€ ì—†ìŠµë‹ˆë‹¤." |

### 11.3 ë¡œë”© ìƒíƒœ

| ì‹œë‚˜ë¦¬ì˜¤ | UI í‘œì‹œ |
|---------|---------|
| ë³´ë“œ ëª©ë¡ ì¡°íšŒ | BoardListSkeleton (ì¹´ë“œ 3ê°œ) |
| ìº”ë²„ìŠ¤ ì´ˆê¸° ë¡œë“œ (Yjs sync) | ìº”ë²„ìŠ¤ ì¤‘ì•™ ìŠ¤í”¼ë„ˆ + "ë³´ë“œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..." |
| í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ë¶„ì„ | MiningPanel: ìŠ¤í”¼ë„ˆ + "ë¶„ì„ ì§„í–‰ ì¤‘..." + ì§„í–‰ë¥  |
| AI ì—­ê³µí•™ ì§„í–‰ | AiReversePanel: ë‹¨ê³„ë³„ íƒ€ì„ë¼ì¸ (íŒŒì‹± â†’ ë§¤í•‘ â†’ ë°°ì¹˜) |
| í˜‘ì—… ì°¸ì—¬ì ë¡œë“œ | AvatarStack Skeleton |

---

## 12. ì—­í• ë³„ ì ‘ê·¼ ì œì–´ (RBAC)

### 12.1 ê¸°ëŠ¥ë³„ ì—­í•  ê¶Œí•œ

| ê¸°ëŠ¥ | í•„ìš” ê¶Œí•œ | admin | manager | attorney | analyst | engineer | staff | viewer |
|------|----------|:-----:|:-------:|:--------:|:-------:|:--------:|:-----:|:------:|
| ë³´ë“œ ëª©ë¡/ìº”ë²„ìŠ¤ ì¡°íšŒ | `case:read` | O | O | O | O | O | O | O |
| ë³´ë“œ ìƒì„± | `process:initiate` | O | O | O | X | X | X | X |
| ë…¸ë“œ/ì—°ê²°ì„  í¸ì§‘ | `process:initiate` | O | O | O | X | X | X | X |
| Yjs ì‹¤ì‹œê°„ í˜‘ì—… ì°¸ì—¬ | `case:read` | O | O | O | O | O | O | O* |
| AI ì—­ê³µí•™ ì‹¤í–‰ | `process:initiate` + `agent:chat` | O | O | O | X | X | X | X |
| í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ì‹¤í–‰ | `process:initiate` | O | O | O | X | X | X | X |
| ë§ˆì´ë‹ ê²°ê³¼ ì˜¤ë²„ë ˆì´ ì¡°íšŒ | `case:read` | O | O | O | O | O | O | O |
| ì´ë²¤íŠ¸ ë¡œê·¸ ë°”ì¸ë”© ì„¤ì • | `process:initiate` | O | O | O | X | X | X | X |

`*` viewerëŠ” Yjs Awarenessë¡œ ì»¤ì„œê°€ í‘œì‹œë˜ì§€ë§Œ, í¸ì§‘ ì‘ì—…ì€ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì°¨ë‹¨

### 12.2 í”„ë¡ íŠ¸ì—”ë“œ ê°€ë“œ

```typescript
// ì½ê¸° ì „ìš© ëª¨ë“œ ê²°ì •
const { hasPermission } = usePermission();
const canEdit = hasPermission('process:initiate');

// ProcessToolbox â€” í¸ì§‘ ê¶Œí•œì´ ì—†ìœ¼ë©´ ë¹„í™œì„±
<ProcessToolbox disabled={!canEdit} />

// ìº”ë²„ìŠ¤ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ í¸ì§‘ ì°¨ë‹¨
const onDragMove = canEdit
  ? (e) => updateYjsPosition(e)
  : undefined;  // ë“œë˜ê·¸ ë¶ˆê°€

// AI ì—­ê³µí•™ ë²„íŠ¼
{canEdit && hasPermission('agent:chat') && (
  <Button onClick={startAiDiscovery}>AI í”„ë¡œì„¸ìŠ¤ ë°œê²¬</Button>
)}
```

> **Yjs í˜‘ì—… + RBAC**: ì½ê¸° ì „ìš© ì‚¬ìš©ìë„ Yjs WebSocketì— ì—°ê²°ë˜ì–´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ í¸ì§‘ì„ ë³¼ ìˆ˜ ìˆë‹¤. ë‹¨, ë¡œì»¬ì—ì„œ Yjs Documentì— ëŒ€í•œ ì“°ê¸°ë¥¼ ì°¨ë‹¨í•˜ë¯€ë¡œ ì„œë²„ì— ë³€ê²½ì´ ì „íŒŒë˜ì§€ ì•ŠëŠ”ë‹¤.
> **SSOT**: `services/core/docs/07_security/auth-model.md` Â§2.3

---

## 13. K-AIR eventstorming-tool ì „í™˜ ë…¸íŠ¸

| K-AIR (eventstorming-tool) | Canvas (process-designer) | ì „í™˜ ë…¸íŠ¸ |
|---------------------------|--------------------------|-----------|
| Vue 3.5 + vue-konva | React 18 + react-konva | ë™ì¼ Konva.js ì—”ì§„, ë˜í¼ë§Œ êµì²´ (ADR-006) |
| 7ì¢… EventStorming ë…¸ë“œ | 8ì¢… ë¹„ì¦ˆë‹ˆìŠ¤ ë…¸ë“œ + 3ì¢… í™•ì¥ | ê°œë… í™•ì¥: í”„ë¡œì„¸ìŠ¤ ìˆ˜ì¤€ ëª¨ë¸ë§ |
| Yjs + y-websocket | Yjs + y-websocket | í”„ë ˆì„ì›Œí¬ ë¬´ê´€, ë¡œì§ ê·¸ëŒ€ë¡œ ì´ì‹ |
| Pinia boardStore | Zustand processDesignerStore | UI ìƒíƒœë§Œ Zustand, ìº”ë²„ìŠ¤ ë°ì´í„°ëŠ” Yjs |
| Konva.Layer ì§ì ‘ ì¡°ì‘ | react-konva ì„ ì–¸ì  JSX | ëª…ë ¹í˜• -> ì„ ì–¸ì  íŒ¨ëŸ¬ë‹¤ì„ ì „í™˜ |
| EventStorming ì „ìš© | í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ì—°ë™ | Synapse API í†µí•© (ë³‘ëª©/ì í•©ë„/ì´íƒˆ) |
| ë‹¨ë… ë„êµ¬ | Axiom Canvas í†µí•© | ì˜¨í†¨ë¡œì§€ ë¸Œë¼ìš°ì €, ì¼€ì´ìŠ¤ì™€ ì—°ê²° |

---

## ê²°ì • ì‚¬í•­ (Decisions)

- react-konvaë¡œ ìº”ë²„ìŠ¤ êµ¬í˜„ (vue-konvaì—ì„œ ì „í™˜)
  - ê·¼ê±°: ë™ì¼ Konva.js ì—”ì§„, sticky-note UX ë³´ì¡´, K-AIR ì§€ì‹ ì¬í™œìš©
  - ì°¸ì¡°: ADR-006

- ìº”ë²„ìŠ¤ ë°ì´í„°ëŠ” Yjs Documentì— ì €ì¥, ZustandëŠ” UI ìƒíƒœë§Œ
  - ê·¼ê±°: CRDT ë™ê¸°í™”ì™€ Zustand ìƒíƒœë¥¼ ì´ì¤‘ ê´€ë¦¬í•˜ë©´ ì •í•©ì„± ë³´ì¥ ë¶ˆê°€
  - ì¬í‰ê°€ ì¡°ê±´: Yjs ì—†ì´ ì„œë²„ ì¤‘ì‹¬ í˜‘ì—…ìœ¼ë¡œ ì „í™˜ ì‹œ

- EventStorming 7ì¢…ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ 11ì¢…(8+3)ìœ¼ë¡œ í™•ì¥
  - ê·¼ê±°: í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ ì—°ë™ì„ ìœ„í•´ Measure, EventLogBinding, TemporalAnnotation í•„ìš”

## ê¸ˆì§€ë¨ (Forbidden)

- ìº”ë²„ìŠ¤ ë…¸ë“œ/ì—°ê²°ì„  ë°ì´í„°ë¥¼ Zustand storeì— ì§ì ‘ ì €ì¥ (Yjs Documentë¥¼ ë‹¨ì¼ ì§„ì‹¤ ì›ì²œìœ¼ë¡œ ì‚¬ìš©)
- react-konva Stageë¥¼ ì—¬ëŸ¬ Layerë¡œ ë¶„í• í•˜ì§€ ì•ŠìŒ (ì„±ëŠ¥ìƒ ë‹¨ì¼ Layer ê¶Œì¥, ì˜¤ë²„ë ˆì´ëŠ” React Portal)
- í”„ë¡œì„¸ìŠ¤ ë§ˆì´ë‹ APIë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ í˜¸ì¶œ (ë°˜ë“œì‹œ useProcessMining hookì„ í†µí•´)

## í•„ìˆ˜ (Required)

- ëª¨ë“  ìº”ë²„ìŠ¤ ì•„ì´í…œ ë³€ê²½ì€ Yjs Documentë¥¼ í†µí•´ì•¼ í•¨ (ì§ì ‘ ìƒíƒœ ë³€ê²½ ê¸ˆì§€)
- ë‹¨ì¶•í‚¤ ì¶©ëŒ ê²€ì‚¬: ë¸Œë¼ìš°ì € ê¸°ë³¸ ë‹¨ì¶•í‚¤ì™€ ê²¹ì¹˜ì§€ ì•Šì•„ì•¼ í•¨
- ë…¸ë“œ 100ê°œ ì´ìƒ ì‹œ react-konva ê°€ìƒí™” ë˜ëŠ” ë·°í¬íŠ¸ ì»¬ë§ ì ìš©

---

## ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë²„ì „ | ì‘ì„±ì | ë‚´ìš© |
|------|------|--------|------|
| 2026-02-20 | 1.2 | Axiom Team | RBAC ì—­í• ë³„ ì ‘ê·¼ ì œì–´(Â§12) ì¶”ê°€ |
| 2026-02-20 | 1.1 | Axiom Team | UX ìƒíƒœ ì„¤ê³„(Â§11) ì¶”ê°€ |
| 2026-02-20 | 1.0 | Axiom Team | ì´ˆê¸° ì‘ì„± |
