# Canvas UI/UX 개선 계획 (사용자 시나리오·일관성·접근성)

> **관점**: UI/UX와 CSS는 프론트엔드의 생명이다. 사용자 시나리오상 불편점을 줄이고, 디자인 일관성·피드백·접근성·반응형을 체계적으로 개선한다.  
> **참조**: [00_ui-ux-gap-implementation-plan.md](00_ui-ux-gap-implementation-plan.md)(기본 갭 완료), [apps/canvas/docs/04_frontend/design-system.md](../../apps/canvas/docs/04_frontend/design-system.md), case-dashboard.md, admin-dashboard.md, watch-alerts.md, datasource-manager.md  
> **작성일**: 2026-02-23

---

## 1. 목적

- **사용자 시나리오 기준**으로 진입·작업·완료까지의 불편점을 식별하고 개선 계획을 수립한다.
- **디자인 시스템**(토큰·타이포·간격) 적용 갭, **피드백·로딩·에러** UX, **네비게이션·정보 구조**, **접근성**, **반응형**을 Phase별로 정리한다.
- 구현 시 “기능만 되면 된다”가 아니라 **일관된 시각·명확한 피드백·쉬운 탐색**을 목표로 한다.

---

## 2. 점검 범위

| 영역 | 점검 내용 |
|------|-----------|
| **대시보드·케이스** | 첫 진입 인지, 통계 카드 가독성, 필터/테이블 사용성, 역할별 패널 전환, 빈 상태·에러 메시지 |
| **데이터소스** | 목록·선택 상태, 연결 폼 레이아웃·검증 피드백, 동기화 진행률 가시성, 스키마 탐색기 계층 표시 |
| **Watch** | 알림 피드 vs 타임라인 vs 규칙 뷰 전환, 필터·우선순위, 규칙 편집 폼·토스트 피드백 |
| **설정(Admin)** | 탭 네비게이션, 로그 탭(Explorer/AI 분석) 구분, 시스템/사용자/구성 페이지 일관성 |
| **전역** | Sidebar 활성 경로·그룹화, Header 밀도, 로딩/에러 일관성, 다크 모드·토큰 적용 여부 |

---

## 3. 사용자 시나리오별 불편점

### 3.1 시나리오: “로그인 후 대시보드에서 오늘 할 일을 파악한다”

| 불편점 | 현재 상태 | 개선 방향 |
|--------|-----------|-----------|
| **현재 메뉴 모름** | Sidebar에 활성 경로 표시 없음(`NavLink`/`aria-current` 미사용). | Sidebar에서 현재 경로 강조(배경·좌측 띠)·`aria-current="page"` 적용. |
| **역할별 차이 인지 어려움** | RoleGreeting·패널은 역할에 따라 바뀌나, “왜 이 패널만 보이는지” 설명 없음. | 역할 라벨 또는 짧은 도움말로 “관리자용”, “내 담당 워크아이템” 등 맥락 제공. |
| **통계 숫자만 나옴** | StatsCard에 숫자·라벨만 있고 트렌드(▲▼) 또는 전일 대비 없음. | 설계(case-dashboard.md)대로 트렌드 아이콘·변화량 표시(데이터 있으면). |
| **필터가 하나뿐** | CaseFilters에 상태만 있고 유형·날짜·검색 없음. | 유형·날짜 범위·검색어 필터 추가(URL 동기화 권장). |
| **테이블 5건 고정** | “케이스 요약”이 상위 5건만 표시, 페이지네이션 없음. | “더 보기” 또는 페이지네이션, “전체 보기” 링크로 CaseListPage 이동. |
| **빈 상태 무미건조** | 케이스 0건 시 테이블만 비어 보임. | EmptyState 컴포넌트로 “등록된 케이스가 없습니다” + CTA(케이스 목록/생성 안내). |

### 3.2 시나리오: “데이터소스를 추가하고 스키마를 동기화한다”

| 불편점 | 현재 상태 | 개선 방향 |
|--------|-----------|-----------|
| **폼이 한 줄에 밀집** | 연결 폼이 flex-wrap으로 가로로만 나열, 좁은 화면에서 어색. | 설계(datasource-manager.md)처럼 2열 그리드·필드 그룹(연결 정보/인증/고급 옵션). |
| **검증 피드백 부족** | 필수 필드 비어 있어도 제출 후 에러만, 인라인 검증 없음. | React Hook Form + Zod로 필수·형식 검증, 필드 단위 에러 메시지. |
| **테스트 결과 위치** | 연결 테스트 결과가 폼 아래 한 줄, 성공/실패 구분이 색·아이콘 없음. | 테스트 버튼 옆 또는 폼 상단에 인라인 결과(성공: 초록 체크, 실패: 빨강 + 메시지). |
| **목록에서 선택 상태 불명확** | 데이터소스 클릭 시 선택만 되고, 카드 형태·상태(연결됨/오류) 시각적 구분 약함. | 카드형 목록, 상태 뱃지(색상·아이콘), 선택 시 테두리/배경 강조. |
| **동기화 진행률** | SSE 진행률(phase·percent)은 표시하나, 단계별(스키마→테이블→컬럼) 요약이 없음. | 진행 단계 스텝 또는 미니 로그 형태로 “스키마 3/3 → 테이블 12/25” 등. |
| **스키마 탐색기** | 선택 시 스키마/테이블 트리 있으나, 컬럼 타입·PK/FK 등 한눈에 보기 어려울 수 있음. | 테이블 선택 시 컬럼 목록·타입·제약 요약 패널(이미 있으면 일관된 스타일만). |

### 3.3 시나리오: “Watch 알림을 보고 규칙을 수정한다”

| 불편점 | 현재 상태 | 개선 방향 |
|--------|-----------|-----------|
| **뷰 전환만 아이콘** | 피드/타임라인/규칙이 아이콘 버튼만 있어 첫 사용 시 의미 파악 어려움. | 아이콘+라벨 또는 툴팁, 선택 뷰명을 헤더 근처에 텍스트로 표시. |
| **알림 빈 상태** | 알림 0건 시 빈 영역만 있을 수 있음. | EmptyState: “새 알림이 없습니다” + 규칙 설정 링크. |
| **규칙 편집 후 피드백** | 추가/수정/삭제 후 리스트만 갱신, 성공 토스트 없음. | 성공 시 toast(“규칙이 저장되었습니다”), 삭제 시 확인 다이얼로그. |
| **우선순위 필터** | PriorityFilter 존재하나, “긴급만 보기” 등 라벨·접근성 확인. | 옵션 라벨 명확화, aria-label 또는 Select에 적절한 name. |

### 3.4 시나리오: “관리자로 설정에서 로그를 확인한다”

| 불편점 | 현재 상태 | 개선 방향 |
|--------|-----------|-----------|
| **설정 탭이 평면** | 시스템/로그/사용자/구성이 단순 링크, 현재 탭 강조는 있으나 시각적 계층 약함. | 탭을 카드형 또는 밑줄 강조로 구분, 로그 하위 탭(Explorer/AI 분석)도 동일 패턴. |
| **로그 탭 내용 스텁** | Explorer/AI 분석 모두 “추후 연동” 문구만 있음. | 로그 API 연동 후에도 로딩 스켈레톤·빈 상태·에러 UI를 설계와 맞추기. |

### 3.5 시나리오: “다크 모드에서 모든 화면이 편한가”

| 불편점 | 현재 상태 | 개선 방향 |
|--------|-----------|-----------|
| **하드코딩 색상** | 여러 컴포넌트가 `gray-100`, `neutral-800`, `blue-600`, `#111111` 등 직접 지정. | 배경·텍스트·테두리·강조는 design-system.md 토큰(`--background`, `--foreground`, `--primary` 등) 사용. |
| **대비 부족** | 일부 placeholder·보조 텍스트가 대비 낮아 가독성 저하. | `--muted-foreground` 등 토큰으로 보조 텍스트 통일, WCAG AA 대비 검증. |

---

## 4. 디자인 일관성 갭

| 항목 | 현재 | 목표 |
|------|------|------|
| **배경·텍스트** | `bg-gray-50`, `bg-[#111111]`, `text-neutral-500` 등 페이지별 상이 | `bg-background`, `text-foreground`, `text-muted-foreground` (tokens.css) |
| **카드·테두리** | `border-neutral-200`, `bg-white` 하드코딩 | `bg-card`, `border-border`, `rounded-[var(--radius)]` |
| **버튼·링크** | `text-blue-600`, `hover:bg-neutral-800` 혼재 | primary/secondary는 Shadcn Button, 링크는 `text-primary` 또는 토큰 |
| **간격** | `p-4`, `gap-4`, `mb-6` 등 페이지마다 제각각 | 공통 spacing 스케일(4/8/12/16/24) 정리, 페이지 타이틀·섹션 간격 가이드 |
| **타이포** | `text-lg`, `text-xl`, `font-semibold` 무규칙 | 제목(h1/h2/h3)·본문·캡션 용도별 클래스 또는 토큰 (design-system.md §2.2) |

---

## 5. 피드백·로딩·에러 UX

| 유형 | 현재 | 개선 |
|------|------|------|
| **페이지 로딩** | “데이터소스 목록 로딩 중...” 등 텍스트만. 일부 페이지는 빈 화면 후 갑자기 표시. | 주요 목록·테이블에 스켈레톤(카드/행 플레이스홀더) 적용. |
| **버튼 로딩** | 동기화 등 장시간 작업 시 버튼에 스피너만 있음. | 비활성 + “처리 중…” 라벨, 필요 시 진행률(이미 SSE에서 제공하는 부분 활용). |
| **성공 피드백** | 저장/삭제 후 리스트만 갱신, “저장됨” 메시지 없음. | toast 성공 메시지(sonner 이미 사용 중이면 일관된 문구). |
| **에러 표시** | API 에러 시 “목록을 불러올 수 없습니다. {message}” + 다시 시도 버튼. 스타일 페이지마다 다름. | 공통 ErrorState 컴포넌트(아이콘·메시지·재시도 버튼), 페이지/섹션 단위 적용. |
| **폼 검증** | 일부만 RHF+Zod, 나머지는 제출 후 알림 없거나 콘솔만. | 필수/형식 오류 시 인라인 메시지 + submit 방지, 일관된 에러 스타일. |

---

## 6. 네비게이션·정보 구조

| 항목 | 현재 | 개선 |
|------|------|------|
| **Sidebar 활성** | `Link`만 사용, 현재 경로 강조 없음. | `NavLink` + `className`에서 `isActive` 시 배경/좌측 띠, `aria-current="page"`. |
| **메뉴 그룹** | 대시보드/케이스/분석/데이터/프로세스/Watch/설정이 단일 리스트. | 설계(admin-dashboard.md)처럼 “분석”, “데이터” 등 그룹 라벨 또는 접이식 섹션. |
| **Breadcrumb** | 없음. 하위 경로(예: 케이스 상세·문서)에서 “어디에 있는지” 파악하기 어려움. | CaseDetail, DocumentReview 등 2단계 이상 경로에 Breadcrumb 추가(선택, 우선순위 중간). |
| **페이지 제목** | 각 페이지가 자체 h1만 가짐. 메인 영역 상단 공통 영역 없음. | MainLayout 또는 페이지 공통에서 h1 + 부제(선택), 접근성상 문서 트리 일관. |

---

## 7. 접근성

| 항목 | 개선 |
|------|------|
| **포커스** | 포커스 링크·버튼에 `focus-visible:ring-2` 등 명확한 링크 스타일, 건너뛰기 링크(Skip to main) 검토. |
| **폼 라벨** | 모든 input/select에 `<label>` 또는 `aria-label`, 에러는 `aria-describedby`로 연결. |
| **토스트** | 성공/에러 토스트에 `role="status"` 또는 `role="alert"`, 스크린 리더 알림. |
| **모달/시트** | AlertRuleEditor 등 시트 열릴 때 포커스 트랩·닫기 시 이전 포커스 복귀, 제목 `aria-labelledby`. |

---

## 8. 반응형

| 항목 | 현재 | 개선 |
|------|------|------|
| **메인 영역** | `p-8` 고정, 좁은 화면에서 패딩 과다. | `p-4 sm:p-6 lg:p-8`, breakpoint별 패딩. |
| **대시보드 그리드** | `lg:grid-cols-4`, `lg:grid-cols-3` 사용. 카드·테이블 가로 스크롤 없음. | 테이블에 `overflow-x-auto` + min-width, 카드 격자 sm/md/lg 일관. |
| **Sidebar** | 256px 고정. 모바일에서 메인 영역이 좁음. | 768px 미만에서 접이식(햄버거 메뉴) 또는 하단 탭 바(별도 Phase 권장). |
| **데이터소스 폼** | flex-wrap으로 작은 화면에서 2줄로 떨어지나, 레이아웃 그리드 미적용. | `grid grid-cols-1 md:grid-cols-2` 등으로 2열·1열 전환. |

---

## 9. Phase별 구현 계획

### Phase UX1: Quick Wins (네비게이션·활성 표시·토스트)

| ID | 제목 | 산출 | 통과 기준 |
|----|------|------|-----------|
| UX1-1 | Sidebar 현재 경로 강조 | Sidebar에서 `NavLink` + 활성 시 배경/좌측 띠, `aria-current="page"` | 대시보드/케이스 등 이동 시 해당 메뉴가 시각적으로 선택됨. 스크린 리더에서 현재 페이지 안내. |
| UX1-2 | 저장/삭제 성공 토스트 | 규칙 추가·수정·삭제, 데이터소스 추가·삭제, 연결 테스트 성공 시 toast 호출 | 사용자 액션이 성공한 직후 짧은 “저장되었습니다” 등 메시지 표시. |
| UX1-3 | Sidebar 메뉴 그룹 라벨 | “분석”, “데이터” 등 그룹 구분 라벨 또는 구분선만 추가 | 메뉴가 논리적 블록으로 구분되어 보임. (접이식은 선택) |

### Phase UX2: 디자인 토큰·일관된 색/타이포

| ID | 제목 | 산출 | 통과 기준 |
|----|------|------|-----------|
| UX2-1 | 전역 배경·텍스트 토큰 적용 | MainLayout, CaseDashboardPage, DatasourcePage, WatchDashboardPage 등에서 `bg-background`, `text-foreground`, `text-muted-foreground` 사용 | 다크 모드 전환 시 해당 페이지가 토큰에 따라 자연스럽게 전환됨. |
| UX2-2 | 카드·테두리 토큰 적용 | StatsCard, 데이터소스 카드, 설정 탭, Watch 카드 등 `bg-card`, `border-border`, `rounded-[var(--radius)]` | 카드와 패널이 design-system.md와 일치. |
| UX2-3 | 버튼·링크 보조 색 통일 | 페이지 내 보조 버튼·링크를 secondary/muted 계열로 정리 | 파란색/회색 혼용 감소, primary는 CTA만. |

### Phase UX3: 로딩·에러·빈 상태

| ID | 제목 | 산출 | 통과 기준 |
|----|------|------|-----------|
| UX3-1 | 목록 로딩 스켈레톤 | 데이터소스 목록, 케이스 테이블, 알림 피드 등 로딩 시 행/카드 스켈레톤 | 로딩 중 레이아웃이 유지되고 플레이스홀더가 표시됨. |
| UX3-2 | 공통 ErrorState 컴포넌트 | 아이콘·메시지·재시도 버튼, 페이지/섹션 단위 사용 | API 실패 시 동일한 톤의 에러 UI. |
| UX3-3 | 빈 상태(EmptyState) 적용 | 케이스 0건, 알림 0건, 데이터소스 0건, 검색 결과 없음 등 | “데이터가 없습니다” + 맥락에 맞는 CTA 또는 안내 문구. |

### Phase UX4: 폼·데이터소스 UX

| ID | 제목 | 산출 | 통과 기준 |
|----|------|------|-----------|
| UX4-1 | 데이터소스 연결 폼 레이아웃 | 2열 그리드·필드 그룹(이름/엔진, 호스트/포트/DB, 사용자/비밀번호), 고급 옵션 접이식 | 좁은 화면에서도 읽기 쉬운 폼. |
| UX4-2 | 데이터소스 폼 검증 | RHF+Zod, 필수 필드·형식 검증, 인라인 에러 메시지 | 빈 필드 제출 시 제출 차단 + 필드 아래 에러 문구. |
| UX4-3 | 연결 테스트 결과 인라인 | 테스트 버튼 근처에 성공(초록)/실패(빨강) 메시지·아이콘 | 테스트 후 결과가 폼 흐름 안에서 바로 보임. |
| UX4-4 | 데이터소스 목록 카드화·상태 강조 | 카드형 목록, 상태 뱃지(연결됨/오류), 선택 시 시각적 강조 | 목록만 봐도 상태 파악 가능, 선택 상태 명확. |

### Phase UX5: 대시보드 시나리오 보강

| ID | 제목 | 산출 | 통과 기준 |
|----|------|------|-----------|
| UX5-1 | CaseFilters 확장 | 유형·날짜 범위·검색(선택), URL 동기화(선택) | 필터로 목록이 좁혀지고, 필요 시 URL 공유 가능. |
| UX5-2 | 케이스 요약 테이블 페이지네이션/더보기 | 상위 5건 이상 표시 옵션 또는 “전체 보기” 링크 | 대시보드에서 케이스 목록 페이지로 자연스럽게 이어짐. |
| UX5-3 | StatsCard 트렌드(선택) | 전일 대비 또는 트렌드 아이콘(▲▼), API에서 제공 시에만 | 통계 카드가 “변화”를 전달함. |

### Phase UX6: Watch·설정 탭 정리

| ID | 제목 | 산출 | 통과 기준 |
|----|------|------|-----------|
| UX6-1 | Watch 뷰 전환 라벨/툴팁 | 피드/타임라인/규칙 버튼에 라벨 또는 aria-label·title | 첫 방문자도 뷰 의미 파악 가능. |
| UX6-2 | 설정 탭 시각 계층 | 탭을 카드형 또는 밑줄 강조로 구분, 로그 하위 탭(Explorer/AI 분석) 동일 패턴 | 설정 내 이동이 명확함. |

### Phase UX7: 접근성·반응형 (선택)

| ID | 제목 | 산출 | 통과 기준 |
|----|------|------|-----------|
| UX7-1 | 포커스 스타일 통일 | focus-visible 링크·버튼 ring, Skip to main 링크(선택) | 키보드만으로 탐색 시 포커스 위치 파악 가능. |
| UX7-2 | 메인 영역 반응형 패딩 | breakpoint별 p-4/p-6/p-8 | 좁은 화면에서 여백 과다 해소. |
| UX7-3 | 테이블 가로 스크롤 | 목록 테이블 overflow-x-auto + min-width | 작은 화면에서 테이블이 잘리지 않고 스크롤 가능. |

---

## 10. 우선순위·선행 관계

```
UX1 (Quick Wins)     →  즉시 적용 가능, 사용자 체감 큼
UX2 (토큰·일관성)    →  UX1 이후, 전역 스타일 정리
UX3 (로딩·에러·빈 상태) →  UX2와 병렬 가능
UX4 (폼·데이터소스)  →  데이터소스 사용 시나리오 집중
UX5 (대시보드)       →  UX1·UX3 일부 선행 시 효과적
UX6 (Watch·설정)     →  해당 기능 사용자 대상
UX7 (접근성·반응형)  →  여유 있을 때 또는 정책상 필요 시
```

권장 순서: **UX1 → UX2 → UX3** 먼저로 전체 톤을 맞추고, **UX4·UX5·UX6**를 기능별로 진행. **UX7**은 별도 접근성/반응형 스프린트로 다룰 수 있음.

---

## 11. 비적용·별도 계획

| 항목 | 비고 |
|------|------|
| **모바일 전용 레이아웃(하단 탭)** | Sidebar를 768px 미만에서 접이식으로 두거나, 별도 “모바일 네비게이션” 계획에서 다룸. |
| **프로세스 디자이너 캔버스 UX** | Minimap·PropertyPanel·Yjs 등은 process-designer 고도화 계획에서 다룸. |
| **i18n 문자열 정리** | UI 문구 일관성·다국어는 i18n 전용 계획에서 다룸. |
| **디자인 시안·피그마** | 본 계획은 코드/문서 기준 개선안이며, 디자이너 시안 반영은 별도 워크플로우. |

---

## 12. 통과 기준 요약

- **UX1**: Sidebar 활성 표시·그룹, 저장/삭제 토스트 적용.
- **UX2**: 주요 페이지가 디자인 토큰 기반 배경·텍스트·카드 사용.
- **UX3**: 목록 로딩 스켈레톤, 공통 ErrorState, 빈 상태 EmptyState 적용.
- **UX4**: 데이터소스 폼 레이아웃·검증·테스트 결과·목록 카드화 완료.
- **UX5**: 대시보드 필터·테이블 보강, StatsCard 트렌드(선택).
- **UX6**: Watch 뷰 라벨, 설정 탭 시각 계층 정리.
- **UX7**: 포커스·반응형 패딩·테이블 스크롤(선택).

---

## 변경 이력

| 날짜 | 버전 | 내용 |
|------|------|------|
| 2026-02-23 | 1.0 | 초안: 사용자 시나리오별 불편점, 디자인 일관성, 피드백·로딩·에러, 네비게이션, 접근성·반응형, Phase UX1–UX7 계획 수립. |
